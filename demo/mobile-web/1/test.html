<!doctype html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="css/index.css" type="text/css" rel="stylesheet" />
<link href="css/animations.css" type="text/css" rel="stylesheet" />
<link href="css/swiper.min.css" type="text/css" rel="stylesheet" />
<meta name="viewport" content="width=640,target-densitydpi=device-dpi,user-scalable=no" />
<title>奥迪A6L驭见女神</title>
<style>
.spinner > div { background-color:  rgb(231,22,53);}
#loading { background:#fff;}
#loading P {color: rgb(231,22,53);}
</style>
</head>
<body>
<div class="loading" id="loading">
	<div class="spinner">
		<div class="rect1"></div>
		<div class="rect2"></div>
		<div class="rect3"></div>
		<div class="rect4"></div>
		<div class="rect5"></div>
	</div>
	<p></p>
</div>
<div class="box-content" id="main">
	<div class="box-step zhuquan1"  style="display:block">
		<span class="s1-1"></span>
		<span class="s1-2">
		  	<img src="images/0-2-2.png"/>
		  	<img src="images/0-2-3.png"/>
		  	<span class="start-btn"></span>
		</span>
    </div>
    <div class="box-step zhuquan2">
       	<span class="s2-1">00:00</span>
       	<span class="s2-2"></span>
       	<span class="s2-3"></span>
    </div>
    <div class="box-step zhuquan3">
        <img src="images/logo1.png" class="logo1"/>
        <img src="images/logo2.png" class="logo2"/>
        <span class="s3-1">
        	<img src="images/2-1.png">
            <img src="images/2-11.png">
            <img src="images/2-12.png">
        </span>
        <div class="s3-2">
            <div class="swiper-wrapper">
                <div class="swiper-slide"><img src="images/2-car1.png"/></div>
                <div class="swiper-slide"><img src="images/2-car2.png"/></div>
                <div class="swiper-slide"><img src="images/2-car3.png"/></div>
                <div class="swiper-slide"><img src="images/2-car4.png"/></div>
                <div class="swiper-slide"><img src="images/2-car5.png"/></div>
            </div>
            <!-- Add Navigation -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
        <span class="s3-3"></span>
    </div>
    <div class="box-step zhuquan4">
        <div class="road">
        	<img src="images/road2.jpg" class="road2"  height="3500" />
        	<img src="images/road.jpg" class="road1" height="1100" />
        </div>   
        <img src="images/logo1.png" class="logo1"/>
        <img src="images/logo2.png" class="logo2"/>
        <span class="shade-bt"></span>
        <span class="car">
           <img src="images/car-light.png" class="light" style="display:none;"/><!--前灯-->
           <img src="images/car-light-after.png" class="light-b shan" style="display:none;"/><!--前灯-->
        </span>
        <span class="s4-1"></span>
        <span class="s4-2" style="display:none;">
           <img src="images/3-3-1.png" style="position:absolute; z-index:22;"/>
         	<span class="quan2"></span>
         	<span class="quan3"></span>
        </span>
        <span class="s4-3" style="display:none;"></span>
    </div> 
    <div class="box-step zhuquan5">
        <div class="box">
            <span class="six">
            	<img src="images/wave.png" class="wave-loading" style="top:160px;" />
                <img src="images/six.png" />
            </span>
            <span class="s5-1">
            	<img src="images/4-1.png" />
            	<img src="images/4-1s.png" />
            </span>
        </div>  
        <span class="upBtn UP_ico"></span>
    </div>
</div>
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="js/zepto.min.js"></script>
<script type="text/javascript" src="animation.js"></script>
<script type="text/javascript" src="http://ricostacruz.com/jquery.transit/jquery.transit.min.js"></script>
<script type="text/javascript" src="js/self-min.js"></script>
<script type="text/javascript" src="js/swiper.min.js"></script>
<script type="text/javascript">
setTimeout(function (){
	$("#loading").hide();
}, 500);

var Animate_Index = 0;
var Animate_lastIndex = Animate_Index;
var Animate_isSwipe = true;
var Animate_css = Animate[15];
var Animate_Bstop = true;

$('.box-step').eq(Animate_lastIndex).show();

$(".start-btn").bind("tap", function (){
	swipeUpFn( 1 , true);
});

$(".s2-3").bind("tap", function (){
	swipeUpFn( 2 , true);
});

$(".s4-1").bind("tap", function (){

});

function swipeUpFn(index, isFade) {
	if( index && index == Animate_Index) return;
	if(!Animate_Bstop) return;
	Animate_Bstop = false;

	var NowStep = $('.box-content .box-step').eq(Animate_lastIndex);
	var NextStep = $('.box-content .box-step').eq(index ? index : ++ Animate_Index);

	if( !NextStep.size() ) {
		Animate_Index -- ;
		Animate_Bstop = true;
		return;	
	}

	if(index) Animate_Index = index;
	Animate_Bstop = true;	

	NowStep.fadeOut(300);
	setTimeout( function (){
		NextStep.fadeIn(500);	
	} , 100);
	
	Animate_lastIndex = Animate_Index;
	setTimeout( AnimateTween , 100);
}

function swipeDownFn(index) {
	if(Animate_lastIndex == 0) return;
	if( index && index == Animate_Index) return;
	if(!Animate_Bstop) return;
	Animate_Bstop = false;

	var NowStep = $('.box-content .box-step').eq(Animate_lastIndex);
	var NextStep = $('.box-content .box-step').eq(index ? index : -- Animate_Index);
	
	if(index) Animate_Index = index;
	
	NowStep.cssHide(Animate_css.down.out , function (){
		Animate_Bstop = true;	
	});
	NextStep.cssShow(Animate_css.down.IN);
	Animate_lastIndex = Animate_Index;
	setTimeout( AnimateTween , 100);
}

function AnimateTween (){
	$('.road').css({ transform : 'translate(0,0)'});
	switch(Animate_Index) {
		case 1:
			break;
		case 2:
			$('.s3-1 img').eq(0).from({ transform : 'translate(0,50px)' , opacity : 0 , delay : .5} , .5);
			$('.s3-1 img').eq(1).from({ transform : 'translate(0,50px)' , opacity : 0 , delay : .7} , .5);
			$('.s3-1 img').eq(2).from({ transform : 'translate(0,50px)' , opacity : 0 , delay : .9} , .5);

			$('.s3-2').from({ transform : 'translate(0,50px)' , opacity : 0 , delay : 1} , .5);
			$('.s3-3').from({ transform : 'scale(1.3)' , opacity : 0 , delay : 1.3} , .5 , function (){
				$('.s3-3').addClass('pulse animated infinite');
			});

			var swiper = new Swiper('.s3-2', {paginationClickable: true,nextButton: '.swiper-button-next',prevButton: '.swiper-button-prev'});

			$(".s3-3").bind("tap", function (){
				swipeUpFn( 3 , true);
			});
			break;
		case 3:
			$('.car').from({ transform : 'translate(0,50px)' , opacity : 0 , delay : .5} , .5)
			$('.s4-1').from({ transform : 'scale(1.2)' , opacity : 0 , delay : 1} , .5)
			break;	
	}
}

$.fn.from = function( options , time , fn){
	var _this = this;
	var settings = {
		delay : 0 
	};
	if (options) {
        $.extend(settings, options)
    };
	
	var PremierStyle = {};
	for( var j in settings)
	{
		if(j in Zhu._elementStyle || Zhu._prefixStyle(j) in Zhu._elementStyle)
		{
			PremierStyle[j] = _this.css(j);
		}
	};
	
	_this.css(settings);
	
	setTimeout( function (){
		_this.transition(PremierStyle , (time || 1) * 1000 , function (){
			if(fn) fn();	
		});	
	} , settings.delay * 1000);
	return this;
};
</script>
</body>
</html>