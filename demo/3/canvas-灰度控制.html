<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
<canvas id="canvas" width="600" height="600" style="background: gray;"></canvas>	
<script type="text/javascript">
window.onload = function (){
	var oC = document.getElementById('canvas');
	var cx = oC.getContext("2d");

	var img = new Image();
	img.src = "face2.jpg";
	img.onload = function (){
		cx.drawImage(img, 0, 0);

		var imgdata = cx.getImageData(0, 0, 250, 250);
		var pixels = imgdata.data;
		for(var i = 0; i < pixels.length; i+=4){
			var grayscale = pixels[i] * .3 + pixels[i+1] * .59 + pixels[i+2] * .11;
			
			pixels[i] = grayscale;
			pixels[i+1] = grayscale;
			pixels[i+2] = grayscale;
		}

		cx.putImageData(imgdata, 250, 0);
	};
};	
</script>
</body>
</html>